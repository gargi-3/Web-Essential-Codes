<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency Converter</title>
</head>
<body>
    <h1><u>Currency Converter by consuming API</u></h1>
    <form>
        <label>From: </label>
        <select id="From">
            <option value="USD">USD</option>
            <option value="INR">INR</option>
            <option value="EUR">EUR</option>
        </select>
        <label>To: </label>
        <select id="To">
            <option value="USD">USD</option>
            <option value="INR">INR</option>
            <option value="EUR">EUR</option>
        </select>
        <br>
        <label>Amount to Convert</label>
        <input type="text" id="Amount"><br>
        <button type="button" id="Convert">Convert</button>
    </form>

    <script>
        const to = document.getElementById("To");
        const from = document.getElementById("From");
        const convert = document.getElementById("Convert");
        const amount = document.getElementById("Amount");

        convert.addEventListener("click",function(){
            let fromCurrency = from.value;
            let toCurrency = to.value;
            let amt = amount.value;

            fetch(`https://v6.exchangerate-api.com/v6/e203346a00047d664651dd88/latest/${fromCurrency}`)
            .then(response =>{
                return response.json();
            })
            .then(data =>{
                let rate = data.conversion_rates[toCurrency];
                let result = rate * amt;
                console.log("Total: " + result);
                document.write("Total: " + result + "<br>");
            });
        });
    </script>
</body>
</html>